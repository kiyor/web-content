---
id: multi_tenancy.md
related_key: multi-tenancy
summary: الإيجارات المتعددة في ميلفوس.
title: استراتيجيات الإيجار المتعدد
---
<h1 id="Multi-tenancy-strategies" class="common-anchor-header">استراتيجيات الإيجار المتعدد<button data-href="#Multi-tenancy-strategies" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h1><p>في العديد من حالات الاستخدام، يرغب المطورون في تشغيل مجموعة Milvus واحدة وخدمة مستأجرين متعددين، مثل فريقين من فرق المنتجات، أو ملايين المستخدمين النهائيين. يشرح هذا الدليل بعض الاستراتيجيات المختلفة لتحقيق الإيجار المتعدد على ميلفوس.</p>
<p>تم تصميم Milvus لدعم الإيجار المتعدد على مستويات قاعدة البيانات أو المجموعة أو القسم. الهدف من الإيجار المتعدد هو فصل البيانات والموارد عن بعضها البعض. يمكن أن يؤدي تنفيذ الإيجار المتعدد على مستويات مختلفة إلى تحقيق مدى مختلف من العزل ولكنه ينطوي أيضًا على نفقات عامة مختلفة. نوضح هنا المفاضلة بينهما.</p>
<h2 id="Database-oriented-multi-tenancy" class="common-anchor-header">الإيجار المتعدد الموجه لقاعدة البيانات<button data-href="#Database-oriented-multi-tenancy" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>منذ الإصدار 2.2.9 من Milvus، يمكنك إنشاء قواعد بيانات متعددة في مجموعة Milvus واحدة. تجعل هذه الميزة من الممكن تحقيق الإيجار المتعدد الموجه لقاعدة البيانات من خلال تخصيص قاعدة بيانات لكل مستأجر، بحيث يمكنهم إنشاء مجموعاتهم الخاصة. يوفر هذا النهج أفضل عزل للبيانات والموارد للمستأجرين، ولكنه يقتصر على 64 قاعدة بيانات في مجموعة واحدة على الأكثر.</p>
<h2 id="Collection-oriented-multi-tenancy" class="common-anchor-header">الإيجار المتعدد الموجه نحو التجميع<button data-href="#Collection-oriented-multi-tenancy" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>هناك طريقتان ممكنتان لتحقيق الإيجار المتعدد الموجه نحو التجميع.</p>
<h3 id="One-collection-for-all-tenants" class="common-anchor-header">مجموعة واحدة لجميع المستأجرين</h3><p>يعد استخدام مجموعة واحدة لتنفيذ الإيجار المتعدد عن طريق إضافة حقل مستأجر للتمييز بين المستأجرين خيارًا بسيطًا. عند إجراء عمليات بحث ANN لمستأجر معين، أضف تعبير تصفية لتصفية جميع الكيانات التي تنتمي إلى مستأجرين آخرين. هذه هي أبسط طريقة لتحقيق تعدد المستأجرين. ومع ذلك، انتبه إلى أن أداء عامل التصفية قد يصبح عنق الزجاجة في عمليات بحث الشبكة النانوية ANN. ولتحسين أداء البحث، يمكنك تحسينه باستخدام الإيجار المتعدد الموجه للتقسيم أدناه.</p>
<h3 id="One-collection-per-tenant" class="common-anchor-header">مجموعة واحدة لكل مستأجر</h3><p>هناك طريقة أخرى تتمثل في إنشاء مجموعة لكل مستأجر لتخزين بياناته الخاصة، بدلاً من تخزين بيانات جميع المستأجرين في مجموعة واحدة. يوفر هذا عزلًا أفضل للبيانات وأداءً أفضل للاستعلام. ومع ذلك، ضع في اعتبارك أن هذا النهج يتطلب المزيد من الموارد في الجدولة ويقتصر على 10,000 مجموعة في مجموعة على الأكثر.</p>
<h2 id="Partition-oriented-multi-tenancy" class="common-anchor-header">الإيجار المتعدد الموجه نحو التقسيم<button data-href="#Partition-oriented-multi-tenancy" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>هناك طريقتان لتحقيق الإيجار المتعدد الموجه نحو التقسيم:</p>
<h3 id="One-partition-per-tenant" class="common-anchor-header">قسم واحد لكل مستأجر</h3><p>إدارة مجموعة واحدة أسهل بكثير من إدارة مجموعات متعددة. بدلاً من إنشاء مجموعات متعددة، فكر في تخصيص قسم لكل مستأجر لتحقيق عزل مرن للبيانات وإدارة مرنة للذاكرة. أداء البحث في الإيجار المتعدد الموجه نحو الأقسام أفضل بكثير من الإيجار المتعدد الموجه نحو المجموعات. ومع ذلك، لاحظ أن عدد المستأجرين في المجموعة يجب ألا يتجاوز الحد الأقصى لعدد الأقسام التي يمكن أن تحتويها المجموعة.</p>
<h3 id="Partition-key-based-multi-tenancy" class="common-anchor-header">الإيجار المتعدد القائم على مفتاح التقسيم</h3><p>يقدم ميلفوس 2.2.9 ميزة جديدة تسمى مفتاح التقسيم. عند إنشاء مجموعة، قم بترشيح حقل مستأجر واجعله حقل مفتاح التقسيم. سيقوم Milvus بتخزين الكيانات في قسم وفقًا لقيمة تجزئة حقل مفتاح التقسيم. عند إجراء عمليات بحث ANN، يبحث Milvus فقط في القسم الذي يحتوي على مفتاح القسم. سيؤدي ذلك إلى تقليل نطاق البحث إلى حد كبير وبالتالي تحقيق أداء أفضل من دون مفتاح التقسيم.</p>
</div>
<p>تعمل هذه الاستراتيجية على رفع الحد الأقصى لعدد المستأجرين الذي يمكن أن تدعمه مجموعة Milvus وتبسط إدارة الموارد إلى حد كبير لأن Milvus يدير الأقسام تلقائيًا نيابةً عنك.</p>
<p>للتلخيص، يمكنك استخدام أي من استراتيجيات الإيجارات المتعددة المذكورة أعلاه أو بعضها لتشكيل الحل الخاص بك. يقوم الجدول التالي بإجراء مقارنات بين هذه الاستراتيجيات من حيث عزل البيانات وأداء البحث والحد الأقصى لعدد المستأجرين.</p>
<table>
<thead>
<tr><th></th><th>عزل البيانات</th><th>أداء البحث</th><th>الحد الأقصى لعدد المستأجرين</th><th>السيناريوهات الموصى بها</th></tr>
</thead>
<tbody>
<tr><td>موجه نحو قاعدة البيانات</td><td>قوي</td><td>قوي</td><td>64</td><td>بالنسبة لأولئك الذين يحتاجون إلى مجموعات تختلف باختلاف المشاريع، ومناسبة بشكل خاص لعزل البيانات بين الأقسام في مؤسستك.</td></tr>
<tr><td>مجموعة واحدة للجميع</td><td>ضعيف</td><td>متوسط</td><td>غير متاح</td><td>لأولئك الذين لديهم موارد محدودة ولا يهتمون بعزل البيانات.</td></tr>
<tr><td>مجموعة واحدة لكل مستأجر</td><td>قوي</td><td>قوي</td><td>أقل من 10,000</td><td>لأولئك الذين لديهم أقل من 10,000 مستأجر لكل مجموعة.</td></tr>
<tr><td>قسم واحد لكل مستأجر</td><td>متوسط</td><td>قوي</td><td>1,024</td><td>لأولئك الذين لديهم أقل من 1,024 مستأجر لكل مجموعة.</td></tr>
<tr><td>قائم على مفتاح التقسيم</td><td>متوسط</td><td>قوي</td><td>10,000,000+</td><td>لأولئك الذين يتوقعون زيادة سريعة في عدد المستأجرين إلى الملايين.</td></tr>
</tbody>
</table>
<h2 id="Whats-next" class="common-anchor-header">ما التالي<button data-href="#Whats-next" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p><a href="/docs/ar/manage_databases.md">إدارة</a><a href="/docs/ar/schema.md">مخطط</a><a href="/docs/ar/manage_databases.md">قواعد البيانات</a></p>
